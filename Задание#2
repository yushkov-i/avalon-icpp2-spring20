#include <iostream>;
#include <cmath>

#include "Date.hpp";
#include "Extention.hpp";

using namespace std;
using namespace ext;


int main()
{
	setlocale(0, "");
	
	const int size = 100;
	Date  data, dates[size], Min, Max;
	TimeDelta JDN;
	int month;
		
	
	for (int i = 0; i < size; i++)
	{
		dates[i].day = GetRandomValue(1, 28);
		dates[i].month = static_cast<Month>(GetRandomValue(1, 12));
		dates[i].year = GetRandomValue(1000, 3000);
	}

	cout << "Введите дату:" << endl;
	cin >> data.day >> month >> data.year;
	data.month = static_cast<Month>(month);

	int mindistance = abs(countJND(data).delta - countJND(dates[0]).delta);
	int maxdistance = abs(countJND(data).delta - countJND(dates[0]).delta);

	for (int i = 0; i < size; i++)
	{
		if (mindistance > abs(countJND(data).delta - countJND(dates[i]).delta))
		{
			mindistance = abs(countJND(data).delta - countJND(dates[i]).delta);
			Min = dates[i];
		}

		if (maxdistance < abs(countJND(data).delta - countJND(dates[i]).delta))
		{
			maxdistance = abs(countJND(data).delta - countJND(dates[i]).delta);
			Max = dates[i];
		}
	}

	cout << "Самая ближняя дата: " << Min.day << "." << static_cast<int>(Min.month) << "." << Min.year;
	cout << endl << "Самая удаленная дата: " << Max.day << "." << static_cast<int>(Max.month) << "." << Max.year;
}
