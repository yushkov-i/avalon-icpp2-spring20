#include<iostream>
#include<random>
using namespace std;


void Print(int* arr, int y, int x)
{
	cout << endl;

	for (int i = 0; i < y; i++)
	{
	   cout << endl;

	   for (int j = 0; j < x; j++)
		   cout << *(arr + i * x + j) << '\t';

	}
	cout << endl;
	cout << "--------------------------------------" << endl;
}


int main()
{
	setlocale(0, "");
	const int agents = 10;
	const int days = 13; // я увеличил размер массива на 1 для хранения числа оплаченных рабочих дней
	int paymentOfagentsInDays[agents][days];
	int varietyofwork;


	//заполнение массива
	for (int i = 0; i < agents; i++)
	{
		for (int j = 0; j < days; j++)
		{
			if (j == 12)
				paymentOfagentsInDays[i][j] = 0;
			else
			{
				varietyofwork = rand() % 3;
				if (varietyofwork != 2)
					paymentOfagentsInDays[i][j] = rand() % 100000 + 2000;
				else
					paymentOfagentsInDays[i][j] = -1;
			}
		}
	}

	Print(&paymentOfagentsInDays[0][0], agents, days);
	
	//сортировка
	for (int g = 0; g < agents; g++)
	{
		for (int i = 0; i < agents; i++)
		{
			bool isSwap = false;
			for (int j = 0; j < days-2  ; j++)
			{
				if (paymentOfagentsInDays[i][j] < paymentOfagentsInDays[i][j + 1])
				{
					int temp3;
					temp3 = paymentOfagentsInDays[i][j];
					paymentOfagentsInDays[i][j] = paymentOfagentsInDays[i][j + 1];
					paymentOfagentsInDays[i][j + 1] = temp3;
				}
				else
					isSwap = true;
			}
			if (!isSwap)
				break;
		}
	}

	Print(&paymentOfagentsInDays[0][0], agents, days);

	//подсчет рабочих дней
	for (int i = 0; i < agents; i++)
	{
		int daycheck = 0;
		for (int j = 0; j < days - 1; j++)
		{
			if (paymentOfagentsInDays[i][j] == -1)
			{
				paymentOfagentsInDays[i][12] = j;
				break;
			}
			else
				daycheck += 1;
			if (daycheck == days - 1)
				paymentOfagentsInDays[i][12] = 12;
		}
	}
	
	Print(&paymentOfagentsInDays[0][0], agents, days);
	
	//подсчет медиан
	for (int i = 0; i < agents; i++)
	{
		if (paymentOfagentsInDays[i][days-1] % 2 == 0)
			cout << "Медиана зарплаты агента номер - " << i + 1 << " равна : " << (paymentOfagentsInDays[i][paymentOfagentsInDays[i][days-1] / 2 -1] + paymentOfagentsInDays[i][paymentOfagentsInDays[i][days-1] / 2])/2 << endl;
		else
			cout << "Медиана зарплаты агента номер - " << i + 1 << " равна : " << paymentOfagentsInDays[i][paymentOfagentsInDays[i][days-1] / 2] << endl;
	}
}
